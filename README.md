# maven

## 工程和模块

工程和模块的区别

***工程不等于完整的项目***

***模块也不等于完整的项目***

***一个完整的项目看的是代码，代码完整就可以说这是一个完整的项目，和工程模块没有关系***



工程天生只能使用自己内部资源，工程天生是独立的。后天可以和其他工程或模块建立关联关系。

模块天生不是独立的，模块天生是属于父工程的，模块一旦创建，所有父工程的资源都可以使用。



子模块天生继承父工程，可以使用父工程所有资源。

子模块之间天生没有任何关系。



父子工程直接不用建立关系，继承关系是先天的，不需要手动建立。

平级之间的引用需要后天建立。



> 子模块继承父模块，是直接依赖
>
> 子模块POM中没有，引用父模块POM中的jar，是传递依赖。
>
> 这两种依赖同时存在，查看表来确定是否能用。



***实际开发中，如果传递依赖丢失，做法是直接再导入一次***



## 解决冲突

***maven工程要导入jar包的坐标，就必须解决jar包冲突。***

解决jar包冲突的方式

* 方式一

> 第一声明优先原则：
>
> 那个jar包的坐标在靠上的位置，这个jar包就是先声明的。
>
> 先声明的jar包坐标下的依赖包，可以优先进入项目中。

* 方式二

> 直接依赖：项目中直接导入的jar包，就是项目的直接依赖包。
>
> 传递依赖：项目中没有直接导入的jar包，可以通过项目直接依赖的jar包传递到项目中。
>
> 直接依赖优先于传递依赖。

* 方式三

> 直接排除法
>
> 当要排除某个jar包下的依赖包，直接配置exclusion标签，不用写版本号。

## POM标签

dependencyManagement

> maven工程是可以分父子依赖关系的
>
> 依赖别的项目后，拿到的别的项目的依赖包都属于传递依赖
>
> 比如：当前A项目，被B项目依赖，那么我们A项目中所有的jar包都会传递到B项目中。
>
> B项目开发者，如果再在B项目中导入一套ssm框架的jar包，对于B项目是直接依赖。那么直接依赖的jar包就会把我们A项目传递过去的jar包覆盖。
>
> 为了防止以上的情况出现，我们可以把A项目中主要jar包的坐标锁住，那么其他依赖该项目的项目中，即使有同名的jar包依赖，也无法覆盖。
>
> dependencyManager只锁定jar包，不引入，引入需要另外写。

自己写的类尽量使用注解，框架的类尽量使用配置文件

## maven测试

三种方法

- 父工程maven-parent(root) tomcat7-run

* 父工程maven-parent(root) install ，再maven_web tomcat7-run
* 手动添加tomcat